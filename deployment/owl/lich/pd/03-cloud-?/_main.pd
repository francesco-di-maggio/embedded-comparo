#N canvas 230 37 1149 749 12;
#X declare -path .;
#N canvas 0 37 588 274 LICENSE 0;
#X text 79 84 (c) 2008 Reality Jockey;
#X text 57 36 Released under the GNU General Public License ver. 3 or later. See the file LICENSE.txt for the full text.;
#X restore 58 27 pd LICENSE;
#X obj 35 75 declare -path .;
#X text 29 620 msp Granular Synthesis;
#N canvas 0 37 545 181 LOADBANGS 0;
#X obj 172 140 s gain;
#X msg 172 119 1;
#X msg 290 121 0;
#X obj 290 142 s mode;
#X text 322 116 start in Play mode;
#X text 322 127 not Freeze mode;
#X obj 154 14 loadbang;
#X obj 154 57 s loadbang;
#X obj 154 36 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 290 100 r loadbang;
#X obj 172 98 r loadbang;
#X obj 108 13 inlet;
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X connect 6 0 8 0;
#X connect 8 0 7 0;
#X connect 9 0 2 0;
#X connect 10 0 1 0;
#X connect 11 0 8 0;
#X restore 36 51 pd LOADBANGS;
#X obj 36 31 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 607 444 dac~, f 6;
#X text 28 638 Adam Parkinson / RJDJ iOS / 2010;
#X text 192 619 nobuyasu sakodna / MaxMSP / 1999;
#X floatatom 815 81 5 10 2000 0 - - - 0;
#X floatatom 860 81 5 0 100 0 - - - 0;
#X text 860 44 var %, f 4;
#X floatatom 722 203 5 0 0 0 - - - 0;
#X floatatom 905 81 5 0 0 0 - - - 0;
#X floatatom 950 81 5 0 1000 0 - - - 0;
#X text 952 44 var %, f 4;
#X floatatom 822 203 5 0 0 0 - - - 0;
#X text 901 44 transp (cts), f 6;
#X obj 572 160 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X floatatom 724 81 5 10 2000 0 - - - 0;
#X floatatom 769 81 5 0 2500 0 - - - 0;
#X obj 594 229 pack 0 0 0, f 33;
#X obj 606 394 r play-cloud;
#X msg 594 256 \; play-cloud 0 \$1 \$2 \$3;
#X text 28 546 Based on our port of Sakonda-san's MSP granular synth;
#X text 28 563 Combined with Cipriani & Giri's Gen~ cloud generator from their Vol. 3 book, f 77;
#X text 29 656 Atau Tanaka 2024;
#X text 28 527 Granular cloud CLONE generator;
#N canvas 63 100 673 285 viewer 0;
#X obj 238 65 inlet;
#X obj 259 242 outlet;
#X obj 238 89 t b f;
#X obj 238 113 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 238 137 pack;
#X msg 437 138 vis 2 0;
#X msg 437 164 vis 3 0;
#X msg 438 81 vis 0 0;
#X msg 438 107 vis 1 0;
#X msg 238 161 vis \$2 \$1;
#X msg 501 81 vis 4 0;
#X msg 501 107 vis 5 0;
#X msg 500 138 vis 6 0;
#X msg 500 164 vis 7 0;
#X msg 569 81 vis 8 0;
#X msg 569 107 vis 9 0;
#X msg 568 138 vis 10 0;
#X msg 568 164 vis 11 0;
#X obj 490 23 inlet;
#X obj 490 47 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X text 539 25 close all;
#X msg 70 95 vis 0 1;
#X msg 70 121 vis 1 1;
#X msg 69 152 vis 2 1;
#X msg 69 178 vis 3 1;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 4 1;
#X connect 3 0 4 0;
#X connect 4 0 9 0;
#X connect 5 0 1 0;
#X connect 6 0 1 0;
#X connect 7 0 1 0;
#X connect 8 0 1 0;
#X connect 9 0 1 0;
#X connect 10 0 1 0;
#X connect 11 0 1 0;
#X connect 12 0 1 0;
#X connect 13 0 1 0;
#X connect 14 0 1 0;
#X connect 15 0 1 0;
#X connect 16 0 1 0;
#X connect 17 0 1 0;
#X connect 18 0 19 0;
#X connect 19 0 6 0;
#X connect 19 0 5 0;
#X connect 19 0 8 0;
#X connect 19 0 7 0;
#X connect 19 0 13 0;
#X connect 19 0 12 0;
#X connect 19 0 11 0;
#X connect 19 0 10 0;
#X connect 19 0 17 0;
#X connect 19 0 16 0;
#X connect 19 0 15 0;
#X connect 19 0 14 0;
#X connect 21 0 1 0;
#X connect 22 0 1 0;
#X connect 23 0 1 0;
#X connect 24 0 1 0;
#X restore 700 394 pd viewer;
#X text 786 395 upon overflow \, pass play message to next instance, f 18;
#N canvas 0 22 450 300 (subpatch) 0;
#X array doublebuf 220500 float 0;
#X coords 0 1 220499 -1 200 140 1 0 0;
#X restore 28 335 graph;
#X text 234 386 220500 samples = 5 sec @ 44.1Khz, f 17;
#X text 234 438 Each half = 2.5 sec, f 13;
#X obj 27 270 tabwrite~ doublebuf;
#X obj 171 271 tabwrite~ doublebuf;
#X obj 83 211 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 171 211 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X text 50 236 start first recording, f 17;
#X obj 28 184 adc~ 1;
#N canvas 41 387 1231 383 cv-map 0;
#X text 338 21 map Bela CV input to parameters;
#X obj 326 149 s density;
#X obj 422 149 s metro;
#X obj 722 126 map 0 100;
#X obj 920 126 map -1200 1200;
#X obj 891 263 map 1 2500;
#X obj 891 287 s pos;
#X obj 919 153 s transp;
#X obj 1108 126 map 0 100;
#X obj 1108 153 s transpvar;
#X obj 422 66 r cv1;
#X obj 722 66 r cv3;
#X obj 328 94 map 0 40;
#X obj 328 66 r cv0;
#N canvas 40 158 692 411 parameter-monitor 0;
#X text 90 10 monitor parameters in Bela IDE console;
#X obj 106 85 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 106 134 t b b b b b, f 30;
#X obj 103 363 print;
#X obj 106 60 inlet;
#X obj 267 51 r density;
#X obj 339 51 r metro;
#X obj 402 52 r pos;
#X obj 455 52 r dur;
#X obj 502 52 r transp;
#X msg 230 336 dens-metro \$1 pos \$2 dur \$3 transp \$4 stretch \$5;
#X obj 106 261 pack 0 0 0 0 0 0 0 0, f 55;
#X obj 106 236 f;
#X obj 156 236 f;
#X obj 209 236 f;
#X obj 261 236 f;
#X obj 314 236 f;
#X obj 384 232 f;
#X obj 434 232 f;
#X obj 487 232 f;
#X obj 115 166 r cv0;
#X obj 106 108 metro 250;
#X obj 174 165 r cv1;
#X obj 227 165 r cv2;
#X obj 274 165 r cv3;
#X obj 343 167 r cv4;
#X obj 393 162 r cv5;
#X obj 452 161 r cv6;
#X obj 505 161 r cv7;
#X obj 432 128 r freeze;
#X obj 447 83 r durvar;
#X obj 571 54 r transpvar;
#X msg 237 294 cv0-dens \$1 cv1-metro \$2 cv2-dur \$3 cv3-durvar \$4 freeze \$5 cv5-transp \$6 cv6-transpvar \$7 cv7-pquant \$8;
#X obj 580 105 r pitchquant;
#X connect 1 0 21 0;
#X connect 2 0 12 0;
#X connect 2 1 13 0;
#X connect 2 2 14 0;
#X connect 2 3 15 0;
#X connect 2 4 16 0;
#X connect 2 4 17 0;
#X connect 2 4 19 0;
#X connect 2 4 18 0;
#X connect 4 0 1 0;
#X connect 5 0 12 1;
#X connect 6 0 13 1;
#X connect 8 0 14 1;
#X connect 9 0 17 1;
#X connect 11 0 32 0;
#X connect 11 0 10 0;
#X connect 12 0 11 0;
#X connect 13 0 11 1;
#X connect 14 0 11 2;
#X connect 15 0 11 3;
#X connect 16 0 11 4;
#X connect 17 0 11 5;
#X connect 18 0 11 6;
#X connect 19 0 11 7;
#X connect 21 0 2 0;
#X connect 29 0 16 1;
#X connect 30 0 15 1;
#X connect 31 0 18 1;
#X connect 32 0 3 0;
#X connect 33 0 19 1;
#X restore 115 153 pd parameter-monitor;
#X f 21;
#X obj 115 131 tgl 19 1 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X text 12 136 print to Bela console, f 12;
#X obj 114 217 outlet;
#X obj 116 15 inlet;
#X msg 114 189 set \$1;
#X obj 140 71 loadbang;
#X msg 140 95 1;
#X obj 323 281 select 1;
#X obj 323 257 r button1;
#X obj 323 305 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 323 334 s freeze;
#X obj 422 94 route 0;
#X obj 983 259 hsl 162 19 0 127 0 0 empty empty empty -2 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 980 283 / 127;
#X floatatom 980 307 5 0 0 0 - - - 0;
#X floatatom 665 126 5 0 0 0 - - - 0;
#X obj 665 149 s dur;
#X obj 665 66 r cv2;
#X obj 722 149 s durvar;
#X obj 921 66 r cv5;
#X obj 875 66 r cv4;
#X obj 1062 66 r cv6;
#X obj 1108 66 r cv7;
#X obj 432 281 select 1;
#X obj 432 257 r button2;
#X obj 538 281 select 1;
#X obj 647 281 select 1;
#X obj 538 257 r button3;
#X obj 647 257 r button4;
#X msg 432 305 0;
#X msg 538 305 200;
#X msg 647 305 700;
#X obj 538 334 s pitchquant;
#X obj 468 126 m_scale1 0.001 1 1000 0 0.5;
#X obj 665 94 m_scale1 0 1 10 2000 2;
#X connect 3 0 33 0;
#X connect 4 0 7 0;
#X connect 5 0 6 0;
#X connect 8 0 9 0;
#X connect 10 0 26 0;
#X connect 11 0 3 0;
#X connect 12 0 1 0;
#X connect 13 0 12 0;
#X connect 15 0 14 0;
#X connect 15 0 19 0;
#X connect 18 0 15 0;
#X connect 19 0 17 0;
#X connect 20 0 21 0;
#X connect 21 0 15 0;
#X connect 22 0 24 0;
#X connect 23 0 22 0;
#X connect 24 0 25 0;
#X connect 26 0 2 0;
#X connect 26 1 48 0;
#X connect 27 0 28 0;
#X connect 28 0 29 0;
#X connect 30 0 31 0;
#X connect 32 0 49 0;
#X connect 34 0 4 0;
#X connect 37 0 8 0;
#X connect 38 0 44 0;
#X connect 39 0 38 0;
#X connect 40 0 45 0;
#X connect 41 0 46 0;
#X connect 42 0 40 0;
#X connect 43 0 41 0;
#X connect 44 0 47 0;
#X connect 45 0 47 0;
#X connect 46 0 47 0;
#X connect 48 0 2 0;
#X connect 49 0 30 0;
#X restore 209 149 pd cv-map;
#X text 534 390 GRAIN CLOUD ENGINE, f 9;
#X text 122 331 | | | | | | | | | |, f 2;
#X obj 209 80 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X text 234 334 Buffer contains two copies of 2500ms, f 20;
#X obj 210 29 loadbang;
#X msg 209 58 1;
#N canvas 8 299 1049 372 parameters 0;
#X obj 314 125 outlet;
#X obj 371 125 outlet;
#X obj 454 125 outlet;
#X obj 510 125 outlet;
#X obj 589 125 outlet;
#X obj 668 125 outlet;
#X obj 121 100 s-r stretch;
#X obj 121 125 outlet;
#X obj 121 74 inlet;
#X text 35 43 Play (0);
#X text 34 54 Freeze (1);
#X obj 45 100 s-r freeze;
#X obj 45 74 inlet;
#X obj 45 125 outlet;
#X obj 314 100 s-r pos;
#X obj 371 100 s-r posvar;
#X obj 314 74 inlet;
#X obj 371 74 inlet;
#X obj 454 100 s-r dur;
#X obj 510 100 s-r durvar;
#X obj 454 74 inlet;
#X obj 510 74 inlet;
#X obj 589 100 s-r transp;
#X obj 668 100 s-r transpvar;
#X obj 589 74 inlet;
#X obj 668 74 inlet;
#X obj 768 100 s-r pitchquant;
#X obj 208 125 outlet;
#X obj 208 74 inlet;
#X obj 768 125 outlet;
#X obj 768 74 inlet;
#X obj 208 100 s-r stretchvar;
#X connect 6 0 7 0;
#X connect 8 0 6 0;
#X connect 11 0 13 0;
#X connect 12 0 11 0;
#X connect 14 0 0 0;
#X connect 15 0 1 0;
#X connect 16 0 14 0;
#X connect 17 0 15 0;
#X connect 18 0 2 0;
#X connect 19 0 3 0;
#X connect 20 0 18 0;
#X connect 21 0 19 0;
#X connect 22 0 4 0;
#X connect 23 0 5 0;
#X connect 24 0 22 0;
#X connect 25 0 23 0;
#X connect 26 0 29 0;
#X connect 28 0 31 0;
#X connect 30 0 26 0;
#X connect 31 0 27 0;
#X restore 589 103 pd parameters;
#X f 59;
#X text 29 583 granular engine plays one grain at a time at density \, overflowing to next available grain when busy \, uses clone object to instantiate grains, f 77;
#X floatatom 679 81 5 0 0 0 - - - 0;
#X floatatom 995 81 5 0 0 0 - - - 0;
#N canvas 45 436 678 310 triangle-window 0;
#X text 445 101 window shape;
#N canvas 179 217 450 300 (subpatch) 0;
#X array wndw 512 float 0;
#X coords 0 1 511 -1 200 140 1 0 0;
#X restore 399 126 graph;
#X obj 20 226 s trisize;
#X obj 757 186 loadbang;
#X obj 757 557 / 512;
#X obj 757 593 * 2;
#X obj 755 643 - 1;
#X obj 755 685 abs;
#X obj 757 509 t f f;
#X obj 757 365 until;
#X obj 757 403 f;
#X obj 795 396 + 1;
#X obj 850 392 sel 0;
#X obj 757 226 bng 25 250 50 0 empty empty empty 17 7 0 10 #e4e4e4 #4d4d4d #373737;
#X obj 795 422 mod 513;
#X obj 755 727 * -1;
#X obj 755 761 + 1;
#X obj 755 798 tabwrite wndw;
#X obj 20 144 loadbang;
#X msg 20 177 512;
#X connect 3 0 13 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 15 0;
#X connect 8 0 4 0;
#X connect 8 1 17 1;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 10 0 8 0;
#X connect 11 0 14 0;
#X connect 12 0 9 1;
#X connect 13 0 9 0;
#X connect 14 0 10 1;
#X connect 14 0 12 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 18 0 19 0;
#X connect 19 0 2 0;
#X restore 28 479 pd triangle-window;
#X floatatom 634 81 5 0 0 0 - - - 0;
#X obj 589 81 tgl 19 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X text 627 44 time stretch, f 7;
#N canvas 10 415 592 393 stretchfreeze 0;
#X floatatom 265 213 5 0 0 0 - - - 0;
#X floatatom 141 167 4 0 0 0 - - - 0;
#N canvas 40 91 1052 750 timestretch 0;
#X obj 110 28 inlet;
#X obj 110 55 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X floatatom 110 518 5 0 0 0 - - - 0;
#X obj 110 491 +;
#X obj 133 619 select 0 1;
#X obj 126 657 i;
#X obj 199 28 r metro;
#X floatatom 199 55 5 0 0 0 - - - 0;
#X obj 133 595 >= 2500;
#X obj 166 424 i;
#X obj 166 448 * -1;
#X obj 110 85 t b b b;
#X obj 110 696 outlet;
#X floatatom 740 371 5 0 0 0 - - - 0;
#X text 194 583 foldover at half buffer, f 15;
#X text 201 430 reset to zero, f 7;
#X obj 110 541 t f f f;
#X obj 110 366 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X floatatom 110 415 5 0 0 0 - - - 0;
#X obj 166 472 clip 0;
#X obj 271 344 *;
#X obj 271 28 inlet;
#X floatatom 271 55 5 0 0 0 - - - 0;
#X obj 271 320 t b f;
#X text 315 27 timestretch amount;
#X floatatom 303 344 5 0 0 0 - - - 0;
#X obj 271 296 clip 0 10;
#N canvas 640 435 499 370 posvar 0;
#X floatatom 244 93 5 0 0 0 - - - 0;
#X floatatom 304 93 5 0 100 0 - - - 0;
#X obj 102 134 random 1000;
#X obj 102 159 / 1000;
#X obj 102 93 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 286 196 *;
#X obj 243 254 +;
#X floatatom 243 278 5 0 0 0 - - - 0;
#X obj 286 220 t b f;
#X obj 244 49 inlet;
#X obj 305 49 inlet;
#X obj 102 49 inlet;
#X text 103 23 generate output;
#X obj 243 301 outlet;
#X text 246 23 value;
#X text 302 23 random var (absolute);
#X connect 0 0 6 0;
#X connect 1 0 5 1;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 4 0 2 0;
#X connect 5 0 8 0;
#X connect 6 0 7 0;
#X connect 7 0 13 0;
#X connect 8 0 6 0;
#X connect 8 1 6 1;
#X connect 9 0 0 0;
#X connect 10 0 1 0;
#X connect 11 0 4 0;
#X restore 110 391 pd posvar;
#X floatatom 271 368 5 0 0 0 - - - 0;
#X obj 739 28 inlet;
#X text 785 27 posvar (ms);
#X obj 461 107 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 461 131 random 200;
#X obj 461 154 - 100;
#X obj 461 177 moses 0;
#X floatatom 353 223 5 0 0 0 - - - 0;
#X floatatom 528 55 5 0 0 0 - - - 0;
#X text 551 152 positive 1-100 becomes stretch var 1 to 4 max or 0.25 to 1 min, f 24;
#X obj 271 273 * 1;
#X obj 528 28 inlet;
#X obj 528 77 * 2;
#X text 571 27 stretch var (0-100);
#X obj 353 246 t b f;
#X obj 507 201 m_scale1 0 100 1 4;
#X obj 353 201 m_scale1 -100 0 0.25 1;
#X connect 0 0 1 0;
#X connect 1 0 11 0;
#X connect 2 0 16 0;
#X connect 3 0 2 0;
#X connect 4 0 5 0;
#X connect 4 1 9 0;
#X connect 5 0 3 1;
#X connect 6 0 7 0;
#X connect 7 0 9 1;
#X connect 7 0 19 2;
#X connect 7 0 20 0;
#X connect 8 0 4 0;
#X connect 9 0 10 0;
#X connect 10 0 19 0;
#X connect 11 0 17 0;
#X connect 11 1 31 0;
#X connect 13 0 27 2;
#X connect 16 0 12 0;
#X connect 16 1 8 0;
#X connect 16 2 5 1;
#X connect 17 0 27 0;
#X connect 18 0 3 0;
#X connect 19 0 3 1;
#X connect 20 0 28 0;
#X connect 21 0 22 0;
#X connect 22 0 38 0;
#X connect 23 0 20 0;
#X connect 23 1 20 1;
#X connect 23 1 25 0;
#X connect 26 0 23 0;
#X connect 27 0 18 0;
#X connect 28 0 27 1;
#X connect 29 0 13 0;
#X connect 31 0 32 0;
#X connect 32 0 33 0;
#X connect 33 0 34 0;
#X connect 34 0 44 0;
#X connect 34 1 43 0;
#X connect 35 0 42 0;
#X connect 36 0 40 0;
#X connect 36 0 33 1;
#X connect 38 0 26 0;
#X connect 39 0 36 0;
#X connect 40 0 32 1;
#X connect 42 0 38 0;
#X connect 42 1 38 1;
#X connect 43 0 35 0;
#X connect 44 0 35 0;
#X restore 110 190 pd timestretch;
#N canvas 378 62 327 284 switch 0;
#X obj 135 27 inlet;
#X obj 135 78 < 1;
#X obj 116 135 *;
#X obj 156 135 *;
#X obj 156 161 t b f;
#X obj 189 27 inlet;
#X obj 241 27 inlet;
#X obj 116 206 +;
#X obj 116 249 outlet;
#X connect 0 0 1 0;
#X connect 0 0 3 1;
#X connect 1 0 2 1;
#X connect 2 0 7 0;
#X connect 3 0 4 0;
#X connect 4 0 7 0;
#X connect 4 1 7 1;
#X connect 5 0 2 0;
#X connect 6 0 3 0;
#X connect 7 0 8 0;
#X restore 80 282 pd switch;
#X floatatom 80 306 5 0 0 0 - - - 0;
#X floatatom 110 213 5 0 0 0 - - - 0;
#X text 142 32 time stretch;
#N canvas 237 274 499 370 frzpos 0;
#X floatatom 244 93 5 0 0 0 - - - 0;
#X floatatom 304 93 5 0 100 0 - - - 0;
#X obj 102 134 random 1000;
#X obj 102 159 / 1000;
#X obj 102 93 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 286 196 *;
#X obj 243 254 +;
#X floatatom 243 278 5 0 0 0 - - - 0;
#X obj 286 220 t b f;
#X obj 244 49 inlet;
#X obj 305 49 inlet;
#X obj 102 49 inlet;
#X text 103 23 generate output;
#X obj 243 301 outlet;
#X text 246 23 value;
#X text 302 23 random var (absolute);
#X connect 0 0 6 0;
#X connect 1 0 5 1;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 4 0 2 0;
#X connect 5 0 8 0;
#X connect 6 0 7 0;
#X connect 7 0 13 0;
#X connect 8 0 6 0;
#X connect 8 1 6 1;
#X connect 9 0 0 0;
#X connect 10 0 1 0;
#X connect 11 0 4 0;
#X restore 265 190 pd frzpos;
#X obj 28 54 inlet;
#X obj 27 171 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X floatatom 295 162 5 0 0 0 - - - 0;
#X floatatom 435 172 5 0 0 0 - - - 0;
#X text 435 34 position var (ms);
#X text 296 32 position (ms);
#X obj 80 329 outlet;
#X text 155 283 switch between 'freeze' mode (position+var) and 'play' mode (timestretch+var), f 31;
#X obj 82 55 r freeze;
#X obj 141 82 r stretch;
#X obj 296 54 r pos;
#X obj 435 54 r posvar;
#X floatatom 173 167 4 0 0 0 - - - 0;
#X obj 174 110 r stretchvar;
#X text 184 57 stretch var;
#X connect 0 0 3 2;
#X connect 1 0 2 1;
#X connect 2 0 5 0;
#X connect 3 0 4 0;
#X connect 4 0 14 0;
#X connect 5 0 3 1;
#X connect 7 0 0 0;
#X connect 8 0 9 0;
#X connect 9 0 2 0;
#X connect 9 0 7 0;
#X connect 10 0 7 1;
#X connect 11 0 7 2;
#X connect 11 0 2 3;
#X connect 16 0 3 0;
#X connect 17 0 1 0;
#X connect 18 0 10 0;
#X connect 19 0 11 0;
#X connect 20 0 2 2;
#X connect 21 0 20 0;
#X restore 594 179 pd stretchfreeze;
#X floatatom 594 203 5 0 0 0 - - - 0;
#X text 570 44 play/ freeze, f 6;
#N canvas 52 341 272 174 grain-dur 0;
#X floatatom 72 97 5 0 0 0 - - - 0;
#X obj 41 17 inlet;
#X obj 89 17 r dur;
#X obj 133 18 r durvar;
#X obj 72 120 outlet;
#X obj 72 57 variator1;
#X connect 0 0 4 0;
#X connect 1 0 5 0;
#X connect 2 0 5 1;
#X connect 3 0 5 2;
#X connect 5 0 0 0;
#X restore 722 179 pd grain-dur;
#N canvas 42 142 749 602 transposer 0;
#X obj 59 36 inlet;
#X obj 110 35 r transp;
#X obj 175 35 r transpvar;
#X obj 56 565 outlet;
#X floatatom 79 357 5 0 0 0 - - - 0;
#X obj 79 380 / 100;
#X obj 79 407 i;
#X floatatom 79 431 5 0 0 0 - - - 0;
#X obj 79 454 * 100;
#X floatatom 56 494 5 0 0 0 - - - 0;
#X floatatom 267 81 5 0 0 0 - - - 0;
#X obj 267 122 route 0;
#X obj 118 160 loadbang;
#X msg 216 205 2;
#X msg 216 184 bang;
#X msg 183 205 1;
#X obj 184 160 sel 0;
#N canvas 192 270 548 310 switch 0;
#X obj 41 187 spigot;
#X obj 132 188 spigot;
#X obj 240 187 spigot;
#X obj 361 187 spigot;
#X obj 44 19 inlet;
#X obj 78 106 i 1;
#X obj 400 105 i 1;
#X obj 278 106 i 1;
#X obj 169 105 i 1;
#X obj 247 6 inlet;
#X obj 89 136 i 0;
#X obj 180 135 i 0;
#X obj 289 136 i 0;
#X obj 411 135 i 0;
#X obj 45 236 outlet;
#X obj 133 232 outlet;
#X obj 240 233 outlet;
#X obj 361 236 outlet;
#X obj 247 56 select 1 2 3 4;
#X connect 0 0 14 0;
#X connect 1 0 15 0;
#X connect 2 0 16 0;
#X connect 3 0 17 0;
#X connect 4 0 0 0;
#X connect 4 0 1 0;
#X connect 4 0 2 0;
#X connect 4 0 3 0;
#X connect 5 0 0 1;
#X connect 6 0 3 1;
#X connect 7 0 2 1;
#X connect 8 0 1 1;
#X connect 9 0 18 0;
#X connect 10 0 0 1;
#X connect 11 0 1 1;
#X connect 12 0 2 1;
#X connect 13 0 3 1;
#X connect 18 0 5 0;
#X connect 18 0 11 0;
#X connect 18 0 12 0;
#X connect 18 0 13 0;
#X connect 18 1 8 0;
#X connect 18 1 10 0;
#X connect 18 1 12 0;
#X connect 18 1 13 0;
#X connect 18 2 7 0;
#X connect 18 2 10 0;
#X connect 18 2 11 0;
#X connect 18 2 13 0;
#X connect 18 3 6 0;
#X connect 18 3 10 0;
#X connect 18 3 11 0;
#X connect 18 3 12 0;
#X restore 59 224 pd switch;
#X floatatom 59 122 5 0 0 0 - - - 0;
#X text 102 121 transposition;
#X obj 267 35 r pitchquant;
#X obj 313 185 / 10;
#X obj 313 209 i;
#X floatatom 313 233 5 0 0 0 - - - 0;
#X text 308 80 quantize amount cents;
#X obj 313 160 * 10;
#X text 354 184 quantize to 10 cent increments;
#X text 357 232 quantize grid (200 = whole step \, 700 = P5);
#X obj 59 81 variator1;
#X connect 0 0 28 0;
#X connect 1 0 28 1;
#X connect 2 0 28 2;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 3 0;
#X connect 10 0 11 0;
#X connect 10 0 16 0;
#X connect 11 1 25 0;
#X connect 12 0 15 0;
#X connect 13 0 17 1;
#X connect 14 0 13 0;
#X connect 15 0 17 1;
#X connect 16 0 15 0;
#X connect 16 1 14 0;
#X connect 17 0 9 0;
#X connect 17 1 4 0;
#X connect 18 0 17 0;
#X connect 20 0 10 0;
#X connect 21 0 22 0;
#X connect 22 0 23 0;
#X connect 23 0 5 1;
#X connect 23 0 8 1;
#X connect 25 0 21 0;
#X connect 28 0 18 0;
#X restore 822 179 pd transposer;
#X text 233 79 Play patch manually;
#X floatatom 510 81 5 10 2000 0 - - - 0;
#N canvas 777 240 497 468 cloud-generator 0;
#X obj 223 131 outlet;
#X text 47 74 Play (0);
#X text 46 85 Freeze (1);
#X obj 57 105 inlet;
#X obj 57 156 outlet;
#X obj 223 105 inlet;
#X obj 57 131 s-r density;
#X floatatom 57 286 5 0 0 0 - - - 0;
#X obj 57 310 density-generator;
#X obj 222 286 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 222 310 metro 500;
#X msg 102 286 0;
#X obj 57 235 r density;
#X obj 222 235 r metro;
#X text 141 14 stochastic density/sec;
#X text 141 29 or machine gun metro;
#X text 142 45 or both;
#X obj 57 259 change;
#X obj 223 156 s-r metro;
#X obj 246 387 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 245 419 outlet;
#X obj 410 105 inlet;
#X obj 222 259 route 0;
#X connect 3 0 6 0;
#X connect 5 0 18 0;
#X connect 6 0 4 0;
#X connect 7 0 8 0;
#X connect 8 0 19 0;
#X connect 9 0 10 0;
#X connect 10 0 19 0;
#X connect 11 0 7 0;
#X connect 12 0 17 0;
#X connect 13 0 22 0;
#X connect 17 0 7 0;
#X connect 18 0 0 0;
#X connect 19 0 20 0;
#X connect 22 0 9 0;
#X connect 22 1 9 0;
#X connect 22 1 10 1;
#X restore 449 103 pd cloud-generator;
#X floatatom 449 81 3 0 0 0 - - - 0;
#X floatatom 700 370 5 0 11 0 - - - 0;
#X obj 759 370 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X text 701 338 open 0-11, f 5;
#X text 755 338 close all, f 6;
#N canvas 498 535 450 300 overflow 0;
#X text 193 133 upon overflow \, pass play message to next instance, f 30;
#X obj 78 21 inlet;
#X obj 78 252 route 12;
#X obj 130 299 outlet;
#X obj 204 302 outlet;
#X text 77 328 next instance trigger msg, f 15;
#X text 203 328 overflow all instances, f 14;
#X obj 78 65 unpack 0 0 0 0;
#X obj 78 99 + 1;
#X obj 78 148 pack 0 0 0 0;
#X connect 1 0 7 0;
#X connect 2 0 4 0;
#X connect 2 1 3 0;
#X connect 7 0 8 0;
#X connect 7 1 9 1;
#X connect 7 2 9 2;
#X connect 7 3 9 3;
#X connect 8 0 9 0;
#X connect 9 0 2 0;
#X restore 772 444 pd overflow;
#X obj 846 468 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X text 868 459 overflow all instances, f 13;
#N canvas 92 129 427 246 alternator 0;
#X obj 35 43 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X floatatom 98 48 10 0 0 0 - - - 0;
#X obj 35 67 metro 2500;
#X obj 35 91 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 35 115 select 0 1;
#X obj 35 139 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 68 139 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 35 19 loadbang;
#X text 131 77 5 sec buffer \, with two recordings starting half a buffer apart, f 33;
#X text 127 145 trigger rec - first half \, second half;
#X obj 35 176 outlet;
#X obj 86 176 outlet;
#X connect 0 0 2 0;
#X connect 1 0 2 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 4 1 6 0;
#X connect 5 0 10 0;
#X connect 6 0 11 0;
#X connect 7 0 0 0;
#X restore 83 185 pd alternator;
#X text 179 236 start second recording half buffer in, f 22;
#X text 990 44 pitchquant (cents), f 10;
#X text 762 44 posvar (ms), f 6;
#X text 684 44 var %, f 3;
#X text 816 30 gran dur (ms), f 4;
#X obj 209 127 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X text 147 127 Bela IDE monitor, f 8;
#X text 437 44 density (Hz), f 7;
#X text 507 44 metro (ms), f 5;
#X text 721 44 pos (ms), f 5;
#N canvas 63 100 909 484 presets 0;
#X msg 35 157 \; play-cloud 0 1000 1000 -400;
#X msg 35 205 \; play-cloud 0 1000 500 -400;
#X text 33 134 instance \, position (ms) \, grandur \, transp;
#X msg 128 34 \; density 0 \; metro 20 \; dur 80 \; transp 0 \; posvar 10 \;;
#X msg 35 35 \; density 0 \; metro 100 \; dur 200 \; transp 0 \; posvar 0 \;;
#X text 352 23 piano hits;
#X msg 378 156 \; density 0 \; metro 50 \; freeze 0 \; stretch 0.5 \; stretchvar 0 \; pos 0 \; posvar 0 \; dur 80 \; durvar 0 \; transp 0 \; transpvar 0 \; pitchquant 0 \;;
#X msg 501 153 \; density 40 \; metro 0 \; freeze 0 \; stretch 0.8 \; stretchvar 50 \; pos 0 \; posvar 4 \; dur 80 \; durvar 50 \; transp 10 \; transpvar 100 \; pitchquant 0 \;;
#X obj 378 98 select 1;
#X obj 378 74 r button1;
#X obj 503 71 r button2;
#X obj 503 95 select 1;
#X obj 643 96 select 1;
#X obj 768 93 select 1;
#X obj 643 72 r button3;
#X obj 768 69 r button4;
#X msg 643 154 \; density 10 \; metro 250 \; freeze 1 \; stretch 0 \; stretchvar 0 \; pos 1000 \; posvar 50 \; dur 250 \; durvar 30 \; transp 100 \; transpvar 50 \; pitchquant 0 \;;
#X msg 766 151 \; density 0 \; metro 100 \; freeze 0 \; stretch 0.8 \; stretchvar 50 \; pos 0 \; posvar 4 \; dur 280 \; durvar 50 \; transp 700 \; transpvar 50 \; pitchquant 200 \;;
#X connect 9 0 8 0;
#X connect 10 0 11 0;
#X connect 14 0 12 0;
#X connect 15 0 13 0;
#X restore 35 119 pd presets;
#X obj 206 103 lich-knobs-buttons-leds;
#X text 28 157 IN_L LICH PORT;
#X text 510 478 out_L LICH PORT;
#X text 681 477 out_R LICH PORT;
#X obj 607 418 grain-clone-st~;
#X connect 4 0 3 0;
#X connect 8 0 45 5;
#X connect 9 0 45 6;
#X connect 11 0 20 1;
#X connect 12 0 45 7;
#X connect 13 0 45 8;
#X connect 15 0 20 2;
#X connect 17 0 53 0;
#X connect 17 0 56 0;
#X connect 17 0 57 0;
#X connect 18 0 45 3;
#X connect 19 0 45 4;
#X connect 20 0 22 0;
#X connect 21 0 85 0;
#X connect 27 0 85 0;
#X connect 34 0 32 0;
#X connect 35 0 33 0;
#X connect 37 0 32 0;
#X connect 37 0 33 0;
#X connect 38 0 75 0;
#X connect 41 0 81 0;
#X connect 44 0 41 0;
#X connect 45 0 51 0;
#X connect 45 1 50 0;
#X connect 45 2 47 0;
#X connect 45 3 18 0;
#X connect 45 4 19 0;
#X connect 45 5 8 0;
#X connect 45 6 9 0;
#X connect 45 7 12 0;
#X connect 45 8 13 0;
#X connect 45 9 48 0;
#X connect 47 0 45 2;
#X connect 48 0 45 9;
#X connect 50 0 45 1;
#X connect 51 0 45 0;
#X connect 53 0 54 0;
#X connect 54 0 20 0;
#X connect 56 0 11 0;
#X connect 57 0 15 0;
#X connect 59 0 60 1;
#X connect 60 0 61 0;
#X connect 60 1 59 0;
#X connect 60 2 17 0;
#X connect 61 0 60 0;
#X connect 62 0 27 0;
#X connect 63 0 27 1;
#X connect 66 0 85 0;
#X connect 66 1 67 0;
#X connect 69 0 34 0;
#X connect 69 1 35 0;
#X connect 75 0 38 0;
#X connect 85 0 5 0;
#X connect 85 1 5 1;
#X connect 85 2 66 0;
